<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>LÖVE Cookbook | Deltatime</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deltatime</title>
<meta name="title" content="Deltatime">
<meta name="author" content="Sheepolution">
<meta name="description" content="Some computers are faster than others. This means that two computers can run our code at different speeds. With the code below, for example, the rectangle will move at different speeds on different computers. This is troublesome, because it could mean that our player character runs a lot faster or slower than intended. To fix this, we use a number called deltatime.">
<meta name="generator" content="eleventy">
<meta property="og:type" content="website">
<meta property="og:url" content="https://diminim.github.io/love-cookbook/guides/love/deltatime/">
<meta property="og:locale" content="en_US">
<meta property="og:title" content="Deltatime">
<meta property="og:description" content="Some computers are faster than others. This means that two computers can run our code at different speeds. With the code below, for example, the rectangle will move at different speeds on different computers. This is troublesome, because it could mean that our player character runs a lot faster or slower than intended. To fix this, we use a number called deltatime.">
<meta property="og:image" content="https://diminim.github.io/love-cookbook/assets/logo.png">
<meta property="og:image:alt" content="LÖVE Cookbook">
<meta name="twitter:card" content="summary">
<meta name="twitter:url" content="https://diminim.github.io/love-cookbook/guides/love/deltatime/">
<meta name="twitter:title" content="Deltatime">
<meta name="twitter:description" content="Some computers are faster than others. This means that two computers can run our code at different speeds. With the code below, for example, the rectangle will move at different speeds on different computers. This is troublesome, because it could mean that our player character runs a lot faster or slower than intended. To fix this, we use a number called deltatime.">
<meta name="twitter:image" content="https://diminim.github.io/love-cookbook/assets/logo.png">
<meta name="twitter:image:alt" content="LÖVE Cookbook">
<link rel="canonical" href="https://diminim.github.io/love-cookbook/guides/love/deltatime/">

    <script src="/love-cookbook/assets/js/codeblock.js"></script>
    <script src="/love-cookbook/assets/js/hover_preview.js"></script>
    <script src="/love-cookbook/assets/js/mobile.js"></script>

    <link rel="stylesheet" href="/love-cookbook/assets/styles/fonts.css">
    <link rel="stylesheet" href="/love-cookbook/assets/styles/main.css">
    <link rel="stylesheet" href="/love-cookbook/assets/styles/prism.css">
    <link rel="stylesheet" href="/love-cookbook/assets/styles/markdown.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mali:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=menu" rel="stylesheet">
  </head>
  <body>
    <div class="sidebar">
      <header>
        <a href="/love-cookbook/">
            <div class="logo">
                <img class="logo-unhover-img" src="/love-cookbook/assets/logo.png">
                <img class="logo-hover-img" src="/love-cookbook/assets/logo_hover.png">
            </div>

            <h1>LÖVE Cookbook</h1>
        </a>
      </header>

      <nav class="table-of-contents">
        <ul class="chapters"><li class="group-header"><ul class="guides"><li><a class="" href="/love-cookbook/guides/getting-started/">Getting started</a>
                  </li><li><a class="" href="/love-cookbook/guides/fiddle/">Fiddle</a>
                  </li></ul>

            </li><li class="group-header">Installation<ul class="guides"><li><a class="" href="/love-cookbook/guides/installation/love/">LÖVE</a>
                  </li><li><a class="" href="/love-cookbook/guides/installation/vscode/">VSCode</a>
                  </li><li><a class="" href="/love-cookbook/guides/installation/neovim/">Neovim</a>
                  </li></ul>

            </li><li class="group-header">Lua Basics<ul class="guides"><li><a class="" href="/love-cookbook/guides/lua-basics/lua/">Lua</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-basics/variables/">Variables</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-basics/functions/">Functions</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-basics/if-statements/">If-statements</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-basics/tables/">Tables and for-loops</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-basics/gotchas/">Gotchas</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-basics/recap/">Recap</a>
                  </li></ul>

            </li><li class="group-header">Lua Intermediate<ul class="guides"><li><a class="" href="/love-cookbook/guides/lua-intermediate/require/">Require</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/scope/">Scope</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/modulo/">Modulo</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/nested-for-loops/">Nested for-loops</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/standard-library/">Standard library</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/string-patterns/">String patterns</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/ternary-operators/">Ternary operators</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/metatables/">Metatables</a>
                  </li></ul>

            </li><li class="group-header">LÖVE Basics<ul class="guides"><li><a class="" href="/love-cookbook/guides/love/drawing-image/">Drawing an image</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/drawing-shapes/">Drawing shapes</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/playing-audio/">Playing audio</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/input/">Input</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/filesystem/">Filesystem</a>
                  </li><li><a class="active" href="/love-cookbook/guides/love/deltatime/">Deltatime</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/reading-errors/">Reading errors</a>
                  </li></ul>

            </li><li class="group-header">Basics<ul class="guides"><li><a class="" href="/love-cookbook/guides/basic/aabb/">AABB</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/angle-and-distance/">Angle &amp; distance</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/tiles/">Tiles</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/animation/">Animation</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/saving-and-loading/">Saving &amp; loading</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/canvases/">Canvases</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/stencil-modes/">Stencil modes</a>
                  </li></ul>

            </li><li class="group-header">Intermediate<ul class="guides"><li><a class="" href="/love-cookbook/guides/intermediate/oop/">OOP</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/collision-resolving/">Collision resolution</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/stencil-states/">Stencil states</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/coroutines/">Coroutines</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/shaders/">Shaders</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/compute-shaders/">Compute Shaders</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/box-blur/">Box Blur</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/outlines/">Outlines</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/palette/">Palette</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/pixelation/">Pixelation</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/vertex-shaders/">Vertex Shaders</a>
                  </li></ul>

            </li><li class="group-header">Advanced<ul class="guides"><li><a class="" href="/love-cookbook/guides/advanced/physics/">Physics</a>
                  </li><li><a class="" href="/love-cookbook/guides/advanced/threads/">Threads</a>
                  </li></ul>

            </li><li class="group-header">Recipes<ul class="guides"><li><a class="" href="/love-cookbook/guides/recipes/screen-resizing/">Screen resizing</a>
                  </li><li><a class="" href="/love-cookbook/guides/recipes/steam/">Steam</a>
                  </li></ul>

            </li></ul>

      </nav>
    </div>

    <main>
      <article class="guide">
        
<header class="guide-header">
  <button type="button" class="menu-button">
    <i class="material-symbols-outlined">menu</i>
  </button>

  <h1 class="title">Deltatime</h1>
</header>

<p>Some computers are faster than others. This means that two computers can run our code at different speeds. With the code below, for example, the rectangle will move at different speeds on different computers. This is troublesome, because it could mean that our player character runs a lot faster or slower than intended. To fix this, we use a number called <strong>deltatime</strong>.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">local</span> x <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">function</span> love<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>
    x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">10</span>

    <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">750</span> <span class="token keyword">then</span>
        x <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> love<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    love<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token string">"fill"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<iframe class="love-embed" id="love-iframe-750" src="/love-cookbook/assets/love/love-js" width="800" height="200"></iframe>
<script>
const iframe_750 = document.getElementById('love-iframe-750');
iframe_750.addEventListener('load', function() {
iframe_750.contentWindow.postMessage({lua: `love.window.setMode(800, 200) 
local x = 0
function love.update(dt)
 x = x + 10
 if x > 750 then
 x = 0
 end
end
function love.draw()
 love.graphics.rectangle("fill", x, 100, 50, 50)
end
`}, '*');
});
</script>
<p>Deltatime, or <code>dt</code> for short, is the time it took to process the last frame. More specifically, it's the duration between the start of the last frame and the start of the current frame.</p>
<p>We can get deltatime by adding it as a parameter to <code>love.update</code>. When LÖVE calls <code>love.update</code>, it will pass <code>dt</code>. By multiplying a number with <code>dt</code>, we can make our rectangle move with the same speed for everyone.</p>
<div class="markdown-alert markdown-alert-note"><p class="markdown-alert-title"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p>With a frame we mean a single cycle of both calling love.update and love.draw. Inside these functions you have all sorts of operations happening, from calculating collision and drawing images. These operations take time. For a game to run smoothly, it needs to run 60 frames per seconds (fps). This equals to <code>1 / 60</code> seconds, meaning 0.016667 seconds.</p>
<p>In a normal scenario the speed a computer takes to process a single frame constantly changes each frame. In this chapter we'll use a constant deltatime to make it easier to explain.</p>
</div>
<p>Frames are fast, and therefore deltatime is generally a low number. When you print <code>dt</code> you'll get a different decimal number every frame. To explain deltatime, let's use an extreme example of very slow computers.</p>
<ul>
<li>On computer A, our game runs with 20 fps</li>
<li>On computer B, our game runs with 4 fps.</li>
</ul>
<p>Because <code>dt</code> is the time between two frames, and computer A runs our game with 20 frames per second, we can calculate the average deltatime with <code>1 / 20</code>. This gives us <code>0.05</code> seconds. In other words: when running a game with 20 fps, each frame takes about <code>0.05</code> seconds to process.</p>
<p>For computer B, which runs with 4 fps, the calculation is <code>1 / 4</code>, which is <code>0.2</code> seconds.</p>
<p>We can use the earlier example of the rectangle. By multiplying its movement with deltatime, the rectangle will move equally as fast on both computer A and B.</p>
<ul>
<li>After 1 second, computer A will have multiplied <code>10</code> (speed) by <code>0.05</code> (dt) for <code>20</code> (fps) times. The calculation is <code>10 * 0.05 * 20</code>, which results to <code>10</code>.</li>
<li>After 1 second, computer B will have multiplied <code>10</code> (speed) by <code>0.25</code> (dt) for <code>4</code> (fps) times. The calculation is <code>10 * 0.25 * 4</code>, which results to <code>10</code>.</li>
</ul>
<table>
<thead>
<tr>
<th>Computer</th>
<th>Speed</th>
<th>FPS</th>
<th>dt</th>
<th>Calculation</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>10</td>
<td>20 fps</td>
<td>0.05</td>
<td>10 * 20 * 0.05</td>
<td>10</td>
</tr>
<tr>
<td>B</td>
<td>10</td>
<td>4 fps</td>
<td>0.25</td>
<td>10 * 4 * 0.25</td>
<td>10</td>
</tr>
</tbody>
</table>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">function</span> love<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>
    x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">*</span> dt

    <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">750</span> <span class="token keyword">then</span>
        x <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
<iframe class="love-embed" id="love-iframe-910" src="/love-cookbook/assets/love/love-js" width="800" height="200"></iframe>
<script>
const iframe_910 = document.getElementById('love-iframe-910');
iframe_910.addEventListener('load', function() {
iframe_910.contentWindow.postMessage({lua: `love.window.setMode(800, 200) 
local x = 0
function love.update(dt)
 x = x + 10 * dt
 if x > 750 then
 x = 0
 end
end
function love.draw()
 love.graphics.rectangle("fill", x, 100, 50, 50)
end
`}, '*');
});
</script>
<h2 id="when-to-use-deltatime%3F" tabindex="-1">When to use deltatime? <a class="anchor" href="#when-to-use-deltatime%3F">#</a></h2>
<p>So now we know how deltatime works, and that we can use it to make updates in our game equal among all computers. But as a beginner it can be confusing when exactly to use deltatime. It's tempting to use it everywhere.</p>
<pre><code class="language-lua"><span data-attrs="7-10"></span><span class="token keyword">local</span> x <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">local</span> score <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">function</span> love<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>
    x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">500</span> <span class="token operator">*</span> dt <span class="token comment">-- Changed to 500</span>

    <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">750</span> <span class="token keyword">then</span>
        x <span class="token operator">=</span> <span class="token number">0</span>
        score <span class="token operator">=</span> score <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> love<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    love<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>score<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    love<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token string">"fill"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<iframe class="love-embed" id="love-iframe-151" src="/love-cookbook/assets/love/love-js" width="800" height="200"></iframe>
<script>
const iframe_151 = document.getElementById('love-iframe-151');
iframe_151.addEventListener('load', function() {
iframe_151.contentWindow.postMessage({lua: `love.window.setMode(800, 200) 
local x = 0
local score = 0
function love.update(dt)
 x = x + 500 * dt -- Changed to 500
 if x > 750 then
 x = 0
 score = score + 1
 end
end
function love.draw()
 love.graphics.print(score, 10, 10)
 love.graphics.rectangle("fill", x, 100, 50, 50)
end
`}, '*');
});
</script>
<p>In the example above I don't use deltatime when adding to the score. This is because it's an event that is <ins>not frame-dependent</ins>. It is an action that is triggered by a one-frame event (<code>x</code> being higher than <code>750</code>). In comparison, the rectangle moving is a continious event happening over multiple frames.</p>
<p>Here are some more examples:</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Use deltatime?</th>
</tr>
</thead>
<tbody>
<tr>
<td>Moving upwards when holding the up arrow key</td>
<td>✅</td>
</tr>
<tr>
<td>Clicking on a button to increase your score</td>
<td>❌</td>
</tr>
<tr>
<td>Decrease health when player touches a spike</td>
<td>❌</td>
</tr>
<tr>
<td>Slowly decrease health while player is standing in lava</td>
<td>✅</td>
</tr>
</tbody>
</table>


<footer class="guide-footer">
  <p></p>

  <p>By:
  
      <em>Sheepolution</em>
    
  </p>
</footer>
      </article>
    </main>

  </body>
</html>