<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>LÖVE cookbook | Nested for-loops</title>

    <script src="/love-cookbook/assets/js/codeblock.js"></script>
    <script src="/love-cookbook/assets/js/hover_preview.js"></script>

    <link rel="stylesheet" href="/love-cookbook/assets/styles/fonts.css">
    <link rel="stylesheet" href="/love-cookbook/assets/styles/main.css">
    <link rel="stylesheet" href="/love-cookbook/assets/styles/prism.css">
    <link rel="stylesheet" href="/love-cookbook/assets/styles/markdown.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mali:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="sidebar">
      <header>
        <a href="/love-cookbook/">
            <div class="logo">
                <img class="logo-unhover-img" src="/love-cookbook/assets/logo.png">
                <img class="logo-hover-img" src="/love-cookbook/assets/logo_hover.png">
            </div>

            <h1>LÖVE Cookbook</h1>
        </a>
      </header>

      <nav>
        <ul><li class="group-header"><ul><li><a class="" href="/love-cookbook/guides/getting-started/">Getting started</a>
                  </li></ul>
            </li><li class="group-header">Installation<ul><li><a class="" href="/love-cookbook/guides/installation/love/">LÖVE</a>
                  </li><li><a class="" href="/love-cookbook/guides/installation/vscode/">VSCode</a>
                  </li><li><a class="" href="/love-cookbook/guides/installation/neovim/">Neovim</a>
                  </li></ul>
            </li><li class="group-header">Lua Basics<ul><li><a class="" href="/love-cookbook/guides/fundamentals/lua/">Lua</a>
                  </li><li><a class="" href="/love-cookbook/guides/fundamentals/variables/">Variables</a>
                  </li><li><a class="" href="/love-cookbook/guides/fundamentals/functions/">Functions</a>
                  </li><li><a class="" href="/love-cookbook/guides/fundamentals/if-statements/">If-statements</a>
                  </li><li><a class="" href="/love-cookbook/guides/fundamentals/tables/">Tables and For-loops</a>
                  </li><li><a class="" href="/love-cookbook/guides/fundamentals/recap/">Recap</a>
                  </li></ul>
            </li><li class="group-header">Lua Intermediate<ul><li><a class="" href="/love-cookbook/guides/lua-intermediate/require/">Require</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/scope/">Scope</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/modulo/">Modulo</a>
                  </li><li><a class="active" href="/love-cookbook/guides/lua-intermediate/nested-for-loops/">Nested for-loops</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/ternary-operators/">Ternary operators</a>
                  </li><li><a class="" href="/love-cookbook/guides/lua-intermediate/metatables/">Metatables</a>
                  </li></ul>
            </li><li class="group-header">LÖVE Basics<ul><li><a class="" href="/love-cookbook/guides/love/drawing-image/">Drawing an image</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/drawing-shapes/">Drawing shapes</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/playing-sound/">Playing sound</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/input/">Input</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/filesystem/">Filesystem</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/deltatime/">Deltatime</a>
                  </li><li><a class="" href="/love-cookbook/guides/love/reading-errors/">Reading errors</a>
                  </li></ul>
            </li><li class="group-header">Basics<ul><li><a class="" href="/love-cookbook/guides/basic/aabb/">AABB</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/angle-and-distance/">Angle &amp; distance</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/tiles/">Tiles</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/animation/">Animation</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/saving-and-loading/">Saving &amp; loading</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/canvases/">Canvases</a>
                  </li><li><a class="" href="/love-cookbook/guides/basic/stencil-modes/">Stencil modes</a>
                  </li></ul>
            </li><li class="group-header">Intermediate<ul><li><a class="" href="/love-cookbook/guides/intermediate/oop/">OOP</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/collision-resolving/">Collision resolution</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/stencil-states/">Stencil states</a>
                  </li><li><a class="" href="/love-cookbook/guides/intermediate/coroutines/">Coroutines</a>
                  </li></ul>
            </li><li class="group-header">Advanced<ul><li><a class="" href="/love-cookbook/guides/advanced/physics/">Physics</a>
                  </li><li><a class="" href="/love-cookbook/guides/advanced/threads/">Threads</a>
                  </li></ul>
            </li></ul>
      </nav>
    </div>

    <main>
      <article class="guide">
        
<h1>Nested for-loops</h1>

<p>You have already learned that you can <a href="../../fundamentals/if-statements#nested-statements" data-preview="../../fundamentals/if-statements#nested-statements">nest statements</a>. So of course, we can also nest for-loops.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
    <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
        <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
<span class="token comment">-- Output:</span>
<span class="token comment">-- 1, 1</span>
<span class="token comment">-- 1, 2</span>
<span class="token comment">-- ...</span>
<span class="token comment">-- 1, 9</span>
<span class="token comment">-- 1, 10</span>
<span class="token comment">-- 2, 1</span>
<span class="token comment">-- 2, 2</span>
<span class="token comment">-- etc.</span>
</code></pre>
<div class="markdown-alert markdown-alert-note"><p class="markdown-alert-title"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p>We use two different variables, <code>i</code> and <code>j</code>, so that they don't conflict with each other.</p>
</div>
<p>We have also learned that we can use <code>break</code> to end a for-loop early. Note that this only breaks the loop you use it in.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span> <span class="token comment">-- This loop continues.</span>
    <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span> <span class="token comment">-- This loop breaks.</span>
        <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token comment">-- Because we break, j does not go higher than 1.</span>
        <span class="token keyword">break</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
<span class="token comment">-- Output:</span>
<span class="token comment">-- 1, 1</span>
<span class="token comment">-- 2, 1</span>
<span class="token comment">-- 3, 1</span>
<span class="token comment">-- etc.</span>
</code></pre>
<p>If you want to break both loops at the same time, we could use a <ins>boolean</ins> and an <ins>if-statement</ins>.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">local</span> break_all

<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
    <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
        <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        break_all <span class="token operator">=</span> <span class="token keyword">true</span>
        <span class="token keyword">break</span>
    <span class="token keyword">end</span>

    <span class="token keyword">if</span> break_all <span class="token keyword">then</span>
        <span class="token keyword">break</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
<span class="token comment">-- Output: 1, 1</span>
</code></pre>
<p>Or we could put the for-loop inside a function, and use a <a href="../../fundamentals/functions#return" data-preview="../../fundamentals/functions#return">return-statement</a>.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">counting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
        <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
            <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token comment">-- Leave the function</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token function">counting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">--Output: 1, 1</span>
</code></pre>
<h2 id="goto-statements" tabindex="-1">Goto-statements <a class="anchor" href="#goto-statements">#</a></h2>
<p>A more efficient method is to use a <strong>goto-statement</strong>. This enables us to instruct Lua to jump to a specific line.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">local</span> a <span class="token operator">=</span> <span class="token number">50</span>

<span class="token punctuation">::</span>retry<span class="token punctuation">::</span>

<span class="token keyword">if</span> a <span class="token operator">></span> <span class="token number">100</span> <span class="token keyword">then</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"a is higher than 100!"</span><span class="token punctuation">)</span> <span class="token comment">-- Printed!</span>
<span class="token keyword">else</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Let's try that again!"</span><span class="token punctuation">)</span> <span class="token comment">-- Printed!</span>
    a <span class="token operator">=</span> <span class="token number">200</span>
    <span class="token keyword">goto</span> retry
<span class="token keyword">end</span>
</code></pre>
<p>We create a <strong>label</strong> named <code>retry</code>, which we can do by surrounding a word with double colons. In the <code>else</code>, after changed the value of <code>a</code>, we tell Lua to go to that label. After doing so, it tries the if-statement again. This time the condition is <code>true</code>.</p>
<div class="markdown-alert markdown-alert-warning"><p class="markdown-alert-title"><svg class="octicon octicon-alert mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p><p>Be careful! Similar to <a href="../../fundamentals/tables#while-loops" data-preview="../../fundamentals/tables#while-loops">while-loops</a>, it is possible to create an infinite loop, which will cause LÖVE to hang.</p>
</div>
<p>We can use a <ins>goto</ins> statement to jump out of a nested for-loop.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
    <span class="token keyword">for</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
        <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        <span class="token keyword">goto</span> break_all
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token punctuation">::</span>break_all<span class="token punctuation">::</span>
<span class="token comment">-- Output: 1, 1</span>
</code></pre>
<p>A more common way to use goto-statements is by making them act as a <ins>continue</ins>. In many other programming languages, like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/continue">JavaScript</a>, a <code>continue</code> is a way to tell the program to end the current iteration of a for-loop. By placing a label at the bottom of our loop, we can do something similar.</p>
<pre><code class="language-lua"><span data-attrs=""></span><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token keyword">do</span>
    <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token keyword">then</span>
        <span class="token keyword">goto</span> continue
    <span class="token keyword">end</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Odd!"</span><span class="token punctuation">)</span> <span class="token comment">-- Printed 5 times</span>

    <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">3</span> <span class="token keyword">then</span>
        <span class="token keyword">goto</span> continue
    <span class="token keyword">end</span>

    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">-- Output: 1, 5, 7</span>

    <span class="token punctuation">::</span>continue<span class="token punctuation">::</span>
<span class="token keyword">end</span>
</code></pre>
<p>This is a very short and simple example, but with long for-loops this saves us from havings lots of nested if-else statements.</p>
<div class="markdown-alert markdown-alert-warning"><p class="markdown-alert-title"><svg class="octicon octicon-alert mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p><p>Goto-statements are not available in <a href="https://github.com/Davidobot/love.js">love.js</a>, the unofficial LÖVE port for web.</p>
</div>


<footer class="guide-footer">
  <p></p>

  <p>By: 
  
      <em>Sheepolution</em>
    
  </p>
</footer>
      </article>
    </main>
  </body>
</html>